<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>git | Hexo</title>
  <meta name="author" content="John Doe" />

  
  <meta name="description" content="Git的安装及配置windows下的Git安装从 http://git-scm.com/download/ 下载然后就是傻瓜式安装即可
Git的本地环境配置$ git config --global &amp;quot;huzaixing123456&amp;quot;

$ git config --global" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <meta property="og:title" content="git" />
  <meta property="og:site_name" content="Hexo" />

  
  

  
    <meta property="og:image" content="undefined" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Hexo</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-03-07T03:53:03.000Z"><a href="/2016/03/07/git/">2016-03-07</a></time>
      
      
  
    <h1 class="title">git</h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Git的安装及配置"><a href="#Git的安装及配置" class="headerlink" title="Git的安装及配置"></a>Git的安装及配置</h1><h3 id="windows下的Git安装"><a href="#windows下的Git安装" class="headerlink" title="windows下的Git安装"></a>windows下的Git安装</h3><p>从 <a href="http://git-scm.com/download/" target="_blank" rel="external">http://git-scm.com/download/</a> 下载然后就是傻瓜式安装即可</p>
<h3 id="Git的本地环境配置"><a href="#Git的本地环境配置" class="headerlink" title="Git的本地环境配置"></a>Git的本地环境配置</h3><pre><code>$ git config --global &quot;huzaixing123456&quot;

$ git config --global &quot;252174621@qq.com&quot;
</code></pre><p>因为Git是分布式版本控制系统，所以，每个机器都必须自报家门：你的 <strong>名字</strong> 和 <strong>Email</strong> 地址。</p>
<p><strong>注意</strong> : git config命令的–global参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用<br>户名和Email地址。</p>
<h1 id="github网站"><a href="#github网站" class="headerlink" title="github网站"></a>github网站</h1><p>在Git中并不存在主库的概念，每一份复制出的库都可以独立使用。但是的开发的过程中，确实需要一台中央服务器作为各协同工作之间交换的枢纽，其实完全可以自己搭建一个Git服务器，但是现阶段已经有了这样一个免费的git仓库托管服务的平台，这既是github网站，只需要注册一个github账号，就可以免费获得Git远程仓库。</p>
<h3 id="github配置"><a href="#github配置" class="headerlink" title="github配置"></a>github配置</h3><p>由于本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，所以，需要一点 <strong>设置</strong>：</p>
<p>第1步：<strong>创建SSH Key</strong>。在用户主目录下，看看有没有.ssh目录，如果有，再看看这个目录下有没有id_rsa和id_rsa.pub这两个文件，如果已经有了，可直接跳到下一步。如果没有，打开Shell（Windows下打开Git Bash），创建SSH Key。</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;252174621@qq.com&quot;
</code></pre><p>第2步：登陆GitHub，打开“Account settings”，“SSH Keys”页面：然后，点“Add SSH key”，填上任意的title，在key文本框里面粘贴id_rsa.pub的<br>内容，点“Add Key”，你就应该看到已经添加的Key。</p>
<p><strong>为什么GitHub需要SSH Key呢</strong> : 因为GitHub需要识别出你推送的提交确实是你推送的，而不是别人冒充的，而Git支持SSH协议，所以，GitHub只要知道了你的公钥，就可以确认只有你自己才能推送。</p>
<h1 id="git的常用命令"><a href="#git的常用命令" class="headerlink" title="git的常用命令"></a>git的常用命令</h1><blockquote>
<p>创建版本库</p>
</blockquote>
<p>选择一个合适的目录，通过以下命令将该目录变成Git可管理的仓库</p>
<pre><code>git init
</code></pre><p>Git就把仓库建好了，并且是一个空的仓库，当前目录下会有一个.git的目录，这个目录是Git来跟踪管理版本库的，没事千万不要手动修改这个目录里面的文件，不然改乱了，就把Git仓库给破坏了。   </p>
<blockquote>
<p>提交文件</p>
</blockquote>
<p>第一步：使用git add命令，将要提交的文件添加到仓库暂存区</p>
<pre><code>git add hzx.txt
</code></pre><p>（暂存区概念：我理解的暂存区是git中开辟的一块独立的奇特区域，类似于我们常说的缓冲区，有了暂存区，工作区间与版本库之间就不在直接打交道，而是通过暂存区连接起来，这样做的好处，我总结为：可以灵活操作，比如，同时修改了几个文件，但是其中一个不想提交的话，那么git add的意义就来了，另外当一个功能还未完成，却要切换分支修改其他bug时，此时的工作去又不想提交，那么也是可以存到暂存区的。）    </p>
<p>第二步：使用git commit命令将文件提交到本地仓库</p>
<pre><code>git commit -m &quot;本次提交说明&quot;
</code></pre><p>-m后面输入的是本次提交的说明，可以不输入任何内容，但是为了更好的协同工作，以及后期版本的调整，写入一些有意义的文字描述是必须的。</p>
<p>第三步：使用git push将代码推送到远端</p>
<pre><code>git push origin master
</code></pre><p>origin是远程库的默认名，master是要推送的分支。    </p>
<blockquote>
<p>版本回退 </p>
<blockquote>
<p>查看提交记录</p>
</blockquote>
</blockquote>
<pre><code>git log
</code></pre><p>每次提交都会产生一个commit id，Git的commit id是一个SHA1计算出来的一个非常大的数字，用十六进制表示，只要找到commit id，就可以任意穿梭于各个版本之间。（git log显示的commit id最上面的是最新的版本，一般显示前几个，需要按enter键查看所有，另外退出git log按q即可）</p>
<blockquote>
<p>会退到指定版本</p>
</blockquote>
<pre><code>git reset --hard d458hyd(commit id)
</code></pre><p>其中的commit id可以只写最前面的七位，Git会自动匹配。当然会退到某一个版本还有快捷的指令，如下：    </p>
<pre><code>git reset --hard HEAD^(会退到上一个版本)
git reset --hard HEAD^^(会退到上上个版本)
git reset --hard HEAD~100(会退到上一百个版本)
</code></pre><blockquote>
<p>未来版本</p>
</blockquote>
<pre><code>git reflog
</code></pre><p>有时候回退到某一个版本时想更新到未来版本，但是git log是查不到的，可以用此指令查看全部的操作日志，找到commit id。    </p>
<blockquote>
<p>管理修改 </p>
<blockquote>
<p>查看文件状态</p>
</blockquote>
</blockquote>
<pre><code>git status
</code></pre><blockquote>
<p>查看文件详细修改内容</p>
</blockquote>
<pre><code>git diff HEAD -- hzx.txt
</code></pre><blockquote>
<p>撤销修改</p>
</blockquote>
<pre><code>git checkout -- hzx.txt
</code></pre><ul>
<li>第一种情况：文件修改后还未放进暂存区，此时撤销，就会回退到没做修改之前的状态</li>
<li>第二种情况：文件修改后已经放进暂存区，此时又做了修改，撤销的话会回到增加到缓存区的状态</li>
<li>另外注意，如果提交到暂存区后没做任何修改，此时回退没有效果。再想做版本只能通过commit id了;checkout后面一定个要有–，要不然就成为分支切换了;刚删除的文件也可以用此方式恢复文件。</li>
</ul>
<blockquote>
<p>删除文件</p>
</blockquote>
<pre><code>git rm hzx.txt(删除指定的文件)
git commit -m &quot;提交说明&quot;（将删除文件的记录提交到本地仓库，注意，前面无须add到暂存区了）
</code></pre><h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><p>几乎每一种版本控制系统都以某种形式支持分支，在项目开发的过程中，分支之间的切换是一件非常普遍的事情，从原理上说：分支本质上其实就是一个指向某次提交的可变指针。我所理解的分支其实就是一个clone出来的副本，主体与副本时间是平行互不影响的，可以在副本上做任何其他操作，然后合并到主体上，例如，一般的项目，有个上线的主分支，用在在开发完成之后，合并代码上线，另外还有一个开发人员使用的开发分支、测试人员使用的测试分支以及修复bug的分支。Git 的分支可谓是难以置信的轻量级，它的新建操作几乎可以在瞬间完成，并且在不同分支间切换起来也差不多一样快。和许多其他版本控制系统不同，Git 鼓励在工作流程中频繁使用分支与合并，哪怕一天之内进行许多次都没有关系。</p>
<blockquote>
<p>创建分支 </p>
</blockquote>
<pre><code>git branch (查看分支)
git branch hzx (创建分支hzx)
git checkout hzx （切换到hzx分支）
git checkout -b hzx （创建分支hzx，并且切换到hzx分支 -b表示创建并切换）
</code></pre><blockquote>
<p>合并 </p>
</blockquote>
<p>切换到要合并到的分支，比如将hzx合并到master，则先切到master分支。</p>
<pre><code>git merge hzx
</code></pre><p><strong>fast forward</strong>模式，这是进行快速合并，此种方式合并仅仅是将master指向hzx分支的当前提交。</p>
<pre><code>git merge --no-ff -m &quot;合并说明&quot; hzx
</code></pre><p><strong>–no-ff</strong>表示禁用fast forward模式，此种方式合并代码两个分支之间才是真正的代码合并，并且合并后的历史有分支，看得出来曾经做过合并。</p>
<blockquote>
<p>删除分支 </p>
</blockquote>
<pre><code>git branch -d hzx
git branch -D hzx
</code></pre><blockquote>
<p>bug分支</p>
</blockquote>
<p>在Git中，由于分支是如此的强大，每个BUG都可以通过一个新的临时分支来修复，一般情况下，一个bug的修复过程大概是：<strong>切换bug分支-修复bug-合并分支-bug分支删除</strong>。有时候接到临时任务，紧急修复某一个BUG，但是你在dev上正在进行的开发工作还没有完成，不方便提交，以免影响其它小伙伴，此时可以将dev上的已进行的工作进行储藏，等以后恢复现场后继续工作。（如果不储藏，此时切换到另外一个bug分支的话，那么已经完成的那一部分代码将丢失）</p>
<pre><code>git stash (当前分支还未提交的文件进行储藏)
git stash list (查看当前分支储藏列表)
git stash apply (恢复储藏的内容，但是stash并不删除，可用git stash drop删除)
git stash pop (恢复储藏的内容，并且将stash删除)
</code></pre><blockquote>
<p>分支的其他操作</p>
</blockquote>
<p>注意：clone代码的时候，只有master分支，其他分支是不会clone下来的，所以想要想要创建远程的dev分支到本地：</p>
<pre><code>git checkout -b dev origin/dev
</code></pre><p>另外也可以通过命令行在本地创建与服务器上相对应的分支名，执行命令，建立本地与远程的分支连接：    </p>
<pre><code>git branch --set-upstream dev origin/dev；
</code></pre><h1 id="冲突解决"><a href="#冲突解决" class="headerlink" title="冲突解决"></a>冲突解决</h1><p>不管用什么版本管理工具，只要多人协同工作，就一定会存在冲突，冲突的产生无外乎，多个人同时修改了某一个文件的某一段代码，那么此时，要如何取舍，版本管理工具当然不能判定那个是需要留下来的，此时，需要人工操作，但是git也会给出友好提示。</p>
<pre><code>$ git stash apply
Auto-merging reset.txt
CONFLICT (content): Merge conflict in reset.txt
</code></pre><p>此时就可以定位到冲突的文件，进行人工修复，并再次提交，一般冲突我遇到有两种，一种是同事修改了某一个文件，并且已经提交，你在本地也已经修改此文件，当你拉取服务器上文件时，冲突就产生了。另外一种就是合并分支的时候，开发分支上有添加了代码，但是切换出去的分支上也改了此次代码，合并时问题也会产生。    </p>
<h1 id="参考网站"><a href="#参考网站" class="headerlink" title="参考网站"></a>参考网站</h1><p><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000</a> </p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/05/06/angular/">angular</a>
      </li>
    
      <li>
        <a href="/2016/03/07/git/">git</a>
      </li>
    
      <li>
        <a href="/2016/03/07/gulp/">gulp</a>
      </li>
    
      <li>
        <a href="/2016/03/02/hello-world/">Hello World</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2016 John Doe
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>